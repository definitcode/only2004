[ai_queue3,giant]
if (npc_findhero = false) {
    return;
}
if (npc_findhero = true) {
    queue(giant_kill, 0);
}
gosub(npc_death);
// Default drop from config.
obj_add(npc_coord, npc_param(death_drop), 1, ^lootdrop_duration);

def_int $random = random(128);

if ($random < 5) {
    obj_add(npc_coord, iron_full_helm, 1, ^lootdrop_duration);
} else if ($random < 9) {
    obj_add(npc_coord, iron_dagger, 1, ^lootdrop_duration);
} else if ($random < 12) {
    obj_add(npc_coord, iron_kiteshield, 1, ^lootdrop_duration);
} else if ($random < 14) {
    obj_add(npc_coord, steel_longsword, 1, ^lootdrop_duration);
} else if ($random < 20) {
    obj_add(npc_coord, iron_arrow, 40, ^lootdrop_duration);
} else if ($random < 23) {
    obj_add(npc_coord, firerune, 30, ^lootdrop_duration);
} else if ($random < 26) {
    obj_add(npc_coord, waterrune, 35, ^lootdrop_duration);
} else if ($random < 29) {
    obj_add(npc_coord, lawrune, 10, ^lootdrop_duration);
} else if ($random < 31) {
    obj_add(npc_coord, steel_arrow, 20, ^lootdrop_duration);
} else if ($random < 33) {
    obj_add(npc_coord, mindrune, 50, ^lootdrop_duration);
} else if ($random < 35) {
    obj_add(npc_coord, cosmicrune, 5, ^lootdrop_duration);
} else if ($random < 37) {
    obj_add(npc_coord, naturerune, 10, ^lootdrop_duration);
} else if ($random < 38) {
    obj_add(npc_coord, chaosrune, 5, ^lootdrop_duration);
} else if ($random < 39) {
    obj_add(npc_coord, deathrune, 3, ^lootdrop_duration);
} else if ($random < 46) {
    obj_add(npc_coord, ~randomherb, ^lootdrop_duration);
} else if ($random < 60) {
    obj_add(npc_coord, coins, 53, ^lootdrop_duration);
} else if ($random < 68) {
    obj_add(npc_coord, coins, 150, ^lootdrop_duration);
} else if ($random < 70) {
    obj_add(npc_coord, coins, 52, ^lootdrop_duration);
} else if ($random < 74) {
    obj_add(npc_coord, coins, 80, ^lootdrop_duration);
} else if ($random < 76) {
    obj_add(npc_coord, coins, 88, ^lootdrop_duration);
} else if ($random < 87) {
    obj_add(npc_coord, limpwurt_root, 1, ^lootdrop_duration);
} else if ($random < 93) {
    obj_add(npc_coord, beer, 1, ^lootdrop_duration);
} else if ($random < 95) {
    obj_add(npc_coord, body_talisman, 1, ^lootdrop_duration);
} else if ($random < 98) {
    obj_add(npc_coord, ~randomjewel, ^lootdrop_duration);
    obj_add(npc_coord, ~randomjewel, ^lootdrop_duration);
    obj_add(npc_coord, ~grindingtable, ^lootdrop_duration);
} else if ($random < 100) {
    obj_add(npc_coord, ~low_tier_items, ^lootdrop_duration);
}

[queue,giant_kill]
if (%e_ctoggle = ^e_toggle_on){
    mes("You etch another tally into your ledger.");
}
%giant_kc = calc(%giant_kc + 1);